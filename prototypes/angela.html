<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- TODO: Change title -->
    <title>CS 560: Midterm - Enigma</title>

    <!-- Load Bulma from CDN (consider saving it to repository instead) -->
    <!-- https://bulma.io/ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <link rel="stylesheet" href="../styles.css">

    <!-- Load Font Awesome 5 (free) icons -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
</head>

<body>

<!-- Page header -->
<!-- https://bulma.io/documentation/layout/hero/ -->
<section class="hero is-primary is-bold">
    <div class="hero-body">
        <div class="container">
            <h1 class="title">CS 560: Midterm Team Enigma</h1>
        </div>
    </div>
</section>
<!-- End page header -->

<!-- Page navigation -->
<!-- https://bulma.io/documentation/components/navbar/ -->
<nav class="navbar is-light" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <!-- TODO: Change link to repository homepage if needed -->
            <!-- TODO: Change which navbar-item is-active if needed -->
            <a class="navbar-item is-active" href="../index.html">
                <span class="icon"><i class="fas fa-home"></i></span>
                <span>Home</span>
            </a>

            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="main-menu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="main-menu" class="navbar-menu has-text-weight-medium">
            <!-- Left navbar items -->
            <div class="navbar-start">
                <a class="navbar-item" href="../dataset.html" title="Data">
                    <span class="icon"><i class="fas fa-table"></i></span>
                    <span>Data</span>
                </a>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        Prototypes
                    </a>

                    <div class="navbar-dropdown">
                      <a class="navbar-item" href="nick.html">
                        <span class="icon"><i class="fas fa-chart-line"></i></span>
                        <span>Trends of Number of Calls Deemed "Life Threatening"</span>
                      </a>
                      <a class="navbar-item" href="drew.html" title="Drew">
                        <span class="icon"><i class="far fa-caret-square-down"></i></span>
                        <span>Call Type Group Trends for Each Neighborhood</span>
                      </a>
                      <a class="navbar-item" href="angela.html" title="Angela">
                        <span class="icon"><i class="fas fa-chart-area"></i></span>
                        <span>Emergency Fire Response Across Neighborhoods</span>
                      </a>
                    </div>
                </div>

                <a class="navbar-item" href="../about.html" title="About">
                    <span class="icon"><i class="fas fa-info-circle"></i></span>
                    <span>About</span>
                </a>
            </div>
        </div>
    </div>
</nav>
<!-- End page navigation -->

<section class="section">
    <div class="container">
        <!-- Begin page content -->
        <div class="content">
          <h1 class="title"> Call Type Group Trends for Each Neighborhood </h1>
         <h2>Data Wrangling</h2>
         <p>I used the filter function on the SF Data website to filter on calls from received during 2019 (received after 1/1/2019 12 AM, received before 1/1/2020 12 AM) where the call group type was FIRE, and the final priority was 3 (emergency). I used Tableau to extract the call date (MM/DD) from the Received Date column and used the DATEDIFF function to calculate the length (subtracting the call received time from the time the unit was available again). I created the separate neighborhood bubble charts using the Tableau filter function to ensure the same color scheme across all subgraphs.</p>
         <h2>Motivation</h2>
         <p>The SF Fire Dataset has a column Call Type Group with potential values "Fire, Alarm, Potential Life Threatening and Non Life Threatening". When I explored the dataset, I found that "Potential Life Threatening" and "Non Life Threatening" mostly had to do with medical calls. As Nick and Drew focused on the other values of Call Type Group, I decided to stick with the "fire" group, since those can still have a Final Call Priority of 3, emergency. I used 2019 data only to create a more manageable dataset size: I'm more interested in comparing across neighborhood, type, and time of day, as opposed to exploring change in fire calls over multiple years. Neighborhoods with more fire activity do tend to have more medical activity as well, but the overlap is not precise.</p>
<img src="images/allbars.png">
           <p>So this stacked bar chart shows an overview of the fire calls that different neighborhoods receive. We can clearly see that some neighborhoods (Bayview Hunters Point, McLaren Park) have more calls than other neighborhoods (Japantown, Twin Peaks), and that the types of calls vary across neighborhoods. For example, while Outside Fires and Structure Fires appear across all neighborhoods, Water Rescue does not. This presumably has to do with geography, since not all neighborhoods are on the water.</p>
         <p>The following are bubble charts, where <strong>time of day</strong> (encoded as hour in 24hr time) is used as the Y-axis, <strong>time of year</strong> is used on the X-axis, <strong>call type</strong> is encoded as bubble color, and <strong>length of response (in minutes)</strong> is encoded as bubble size.</p>
         <img src="images/bayviewbubble.png">
         <p>Bayview Hungers Point has the most fire calls (if we compare with <a href="drew.html">Drew's visualization</a>, we can see that that neighborhood has a lot of other-coded calls as well) and this is reflected in the bubble chart. These are mostly outside and vehicle fires with fairly short response times; structural fires take longer, probably because the item on fire is larger. Through the summer and the second half of the year, calls are evenly scattered through the day. Interestingly, from January through March, fire calls seem to mostly take place at night, and avoid the "working hours" of the day.</p>
         <img src="images/pacificbubble.png">
         <p>This neighborhood has much less fire call activity; I chose this neighborhood in particular because <a href="nick.html">Nick</a> focused on it as well). The bubble chart accordingly shows much fewer calls, though what calls there are tend to be more serious. Fire calls in this neighborhood happen generally during the afternoon and night.</p>
         <img src="images/tenderloinbubble.png">
        <p>As <a href="nick.html">Nick's visualizations</a> show, the Tenderloin has a lot of fire department activity. This is also reflected in that neighborhood's bubble chart, which looks more like the Bayview Hunters Point than Pacific Heights. However, even though this neighborhood has the most <em>medical</em> calls, there are fewer fire-related calls.</p>
        <p>Most calls are outside fires, and most of them were responded to pretty quickly. Vehicle fires similarly seem to be relatively minor (makes sense considering smaller size of vehicle). However, industrial accidents and structure fires seem to take longer, potentially over an hour, before the unit is free again. In particular this neighborhood had two larger industrial accidents in 2019, which the other neighborhoods did not.</p>
        <h2>Future Steps</h2> <p>I would like to add interactive functionality
        so that when you mouse over a bubble, a tooltip comes up with
        more information about that particular call. I think this will be a fitting complement to the way I showed calls happening both by time of day and time of year. If I had aggregated calls, then that tooltip functionality would no longer make sense.</p>
      <p>It would also be cool if I could have a timeline slider to show more years' data, or an option to select neighborhood on one graph. I've shown multiple neighborhoods on multiple individual charts, but there are too many neighborhoods to feasibly show this way. A small multiples of bubblecharts for each neighborhood is also an option, but then the hover/tooltip functionality becomes more difficult to use, since each individual call is so small. </p> </div>
        <!-- End page content -->
    </div>
</section>

<!-- Page footer -->
<!-- https://bulma.io/documentation/layout/footer/ -->
<footer class="footer">
    <div class="content has-text-centered is-size-7">
        <p>
            <a href="#top">
                <span class="fas fa-arrow-up"></span>
                <span class="has-text-weight-medium">Back to Top</span>
            </a>
        </p>

        <p>
            <a href="https://github.com/usf-cs360-spring2020/midterm-enigma" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
                <i class="fab fa-github-alt"></i>&nbsp;<strong>Github</strong>
            </a>

            <a href="https://fontawesome.com/" class="button is-small" style="padding-left: 1em; padding-right: 1em;">
                <i class="fab fa-font-awesome"></i>&nbsp;<strong>FontAwesome</strong>
            </a>

            <a href="https://bulma.io" class="button is-small">
                <img src="https://bulma.io/images/made-with-bulma--semiblack.png" alt="Made with Bulma" width="128" height="24">
            </a>
        </p>
    </div>
</footer>
<!-- End page footer -->

<!-- Mobile menu responsiveness -->
<!-- https://bulma.io/documentation/components/navbar/ -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    if ($navbarBurgers.length > 0) {
      $navbarBurgers.forEach( el => {
        el.addEventListener('click', () => {
          const target = el.dataset.target;
          const $target = document.getElementById(target);
          el.classList.toggle('is-active');
          $target.classList.toggle('is-active');
        });
      });
    }
  });
</script>
<!-- End mobile menu responsiveness -->
</body>

</html>
